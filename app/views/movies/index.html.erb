<%= javascript_include_tag 'bootstrap-carousel', 'bootstrap-transition' %>

<% title 'Movies' %>

<div id="latest-movies" class="carousel">
  <!-- Carousel items -->
  <div class="carousel-inner">
    <% for movie in @movies %>
        <div class="item">
          <div class="row">
            <div class='span4'>
              <%= link_to image_tag(movie.poster_original), movie, :title => movie.synopsis %>
            </div>
          </div>
          <div class="carousel-caption">
            <h4><%= movie.name_and_year %></h4>
            <p><%= movie.overview %></p>
          </div>
        </div>
    <% end %>
  </div>
  <!-- Carousel nav -->
  <a class="carousel-control left" href="#latest-movies" data-slide="prev">&lsaquo;</a>
  <a class="carousel-control right" href="#latest-movies" data-slide="next">&rsaquo;</a>
</div>

<script type="text/javascript">
    $(window).load(function () {
        $($('.carousel-inner .item')[0]).addClass('active');
        $('.carousel').carousel({
            interval: 10000
        });
    });
</script>
